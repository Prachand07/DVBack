<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up & Sign In</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="/Frontend/Signup.css" />
  </head>

  <body>
    <div id="navbar-container"></div>
    <div class="container" id="container">
      <div class="form-container sign-up">
        <form id="signup-form" onsubmit="return validateSignupForm()">
          <h1>Create Account</h1>
          <input type="text" id="name" placeholder="Name" required />
          <input type="email" id="email" placeholder="Email" required />
          <input
            type="password"
            id="password"
            placeholder="Password"
            required
          />
          <button type="submit">Sign Up</button>
        </form>
      </div>
      <div class="form-container sign-in">
        <form id="signin-form">
          <h1>Sign In</h1>
          <input type="email" id="signin-email" placeholder="Email" required />
          <input
            type="password"
            id="signin-password"
            placeholder="Password"
            required
          />
          <button type="submit">Sign In</button>
        </form>
      </div>
      <div class="toggle-container">
        <div class="toggle">
          <div class="toggle-panel toggle-left">
            <h1>Welcome Back!</h1>
            <p>Let's Get You Back to the Fun!</p>
            <button class="hidden" id="login">Sign In</button>
          </div>
          <div class="toggle-panel toggle-right">
            <h1>Hola Amigos!</h1>
            <p>The First Step to Awesomeness!</p>
            <button class="hidden" id="register">Sign Up</button>
          </div>
        </div>
      </div>
    </div>

    <script>
      fetch("../Frontend/Navbar.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("navbar-container").innerHTML = data;

          // Load CSS
          const link = document.createElement("link");
          link.rel = "stylesheet";
          link.href = "../Frontend/Navbar.css";
          document.head.appendChild(link);

          // Load JS
          const script = document.createElement("script");
          script.src = "../Backend/Navbar.js";
          script.defer = true;
          script.onload = () => {
            if (typeof updateNavbar === "function") {
              updateNavbar();
            } else {
              console.error("updateNavbar function not found!");
            }
          };
          document.body.appendChild(script);
        })
        .catch((error) => console.error("Error loading navbar:", error));

      function validateSignupForm() {
        const username = document.getElementById("name").value;
        const password = document.getElementById("password").value;

        const usernameRegex = /^[a-zA-Z]/;
        if (!usernameRegex.test(username)) {
          Swal.fire(
            "Invalid Username",
            "Username must start with a letter (a-z or A-Z).",
            "error"
          );
          return false; 
        }

      
        const passwordRegex =
          /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/;
        if (!passwordRegex.test(password)) {
          Swal.fire(
            "Invalid Password",
            "Password must be at least 8 characters long and include 1 number, 1 special character, 1 lowercase letter, and 1 uppercase letter.",
            "error"
          );
          return false; 
        }

        return true; 
      }
    </script>
    <script src="../Backend/script.js"></script>
  </body>
</html>
